---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import JobTable from '../components/JobTable.astro';
import Newsletter from '../components/Newsletter.astro';
import jobs from '../data/jobs.json';

const featuredJobs = [...jobs].sort((a, b) => b.postedDate.localeCompare(a.postedDate)).slice(0, 8);
---

<Layout title="Design Jobs - Healthcare Design Jobs">
  <Header />

  <main id="main-content" tabindex="-1">

  <!-- JSON-LD: Website structured data -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "designjobs",
    "url": "https://health.designjobs.cv",
    "description": "Healthcare UX jobs, curated by the community. Open source and free forever.",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://health.designjobs.cv/jobs?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  })} />

  <!-- Hero -->
  <section class="w-full lg:w-[80%] xl:w-[70%] 2xl:w-[60%] mx-auto px-6 pt-24 pb-20 text-center">
    <div class="animate-fade-up stagger-1 inline-flex items-center gap-2 bg-brand-50 dark:bg-brand-900/20 text-brand-500 text-sm font-medium px-4 py-1.5 rounded-full mb-8">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"/><path d="m9 12 2 2 4-4"/></svg>
      Open source &amp; community-driven
    </div>
    <h1 class="animate-fade-up stagger-2 text-4xl md:text-5xl lg:text-6xl font-bold text-slate-900 dark:text-white leading-[1.1] max-w-2xl mx-auto tracking-tight">
      Where healthcare meets
      <span class="text-brand-500">great design</span>
    </h1>
    <p class="animate-fade-up stagger-3 text-lg text-slate-500 dark:text-slate-400 mt-6 max-w-lg mx-auto leading-relaxed">
      A community-sourced board for UX roles at companies building products that actually matter. Free, open source, and always will be.
    </p>
    <div class="animate-fade-up stagger-4 flex flex-col sm:flex-row justify-center gap-3 mt-10">
      <a
        href="/jobs"
        class="px-8 py-3.5 bg-brand-500 text-white font-semibold rounded-2xl hover:bg-brand-600 transition-colors text-sm shadow-soft-md hover:shadow-warm"
      >
        See what's open
      </a>
      <a
        href="/submit"
        class="px-8 py-3.5 bg-white dark:bg-transparent text-slate-700 dark:text-slate-200 font-semibold rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-800 border border-slate-200 dark:border-slate-700 transition-colors text-sm shadow-soft"
      >
        Post a role
      </a>
    </div>
  </section>

  <!-- Value Props -->
  <section class="w-full lg:w-[80%] xl:w-[70%] 2xl:w-[60%] mx-auto px-6 pb-24">
    <div class="grid md:grid-cols-3 gap-5">
      <div class="animate-fade-in stagger-2">
        <div class="bg-white dark:bg-surface-card rounded-3xl p-8 shadow-soft hover:shadow-warm transition-shadow duration-300 h-full">
          <div class="w-10 h-10 rounded-2xl bg-green-50 dark:bg-green-900/20 flex items-center justify-center mb-5">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#16a34a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
          </div>
          <h3 class="text-base font-semibold text-slate-900 dark:text-white mb-2">Community-built</h3>
          <p class="text-sm text-slate-500 dark:text-slate-400 leading-relaxed">
            Run by the people who use it. Anyone can contribute listings, flag issues, or improve the code. No gatekeepers.
          </p>
        </div>
      </div>
      <div class="animate-fade-in stagger-3">
        <div class="bg-white dark:bg-surface-card rounded-3xl p-8 shadow-soft hover:shadow-warm transition-shadow duration-300 h-full">
          <div class="w-10 h-10 rounded-2xl bg-brand-50 dark:bg-brand-900/20 flex items-center justify-center mb-5">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#244BF8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
          </div>
          <h3 class="text-base font-semibold text-slate-900 dark:text-white mb-2">Work that matters</h3>
          <p class="text-sm text-slate-500 dark:text-slate-400 leading-relaxed">
            Healthcare UX shapes real outcomes for real people. These are roles where your craft has weight.
          </p>
        </div>
      </div>
      <div class="animate-fade-in stagger-4">
        <div class="bg-white dark:bg-surface-card rounded-3xl p-8 shadow-soft hover:shadow-warm transition-shadow duration-300 h-full">
          <div class="w-10 h-10 rounded-2xl bg-amber-50 dark:bg-amber-900/20 flex items-center justify-center mb-5">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#d97706" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"/><path d="m9 12 2 2 4-4"/></svg>
          </div>
          <h3 class="text-base font-semibold text-slate-900 dark:text-white mb-2">No ghost jobs</h3>
          <p class="text-sm text-slate-500 dark:text-slate-400 leading-relaxed">
            Every listing is checked with real browser validation. If it's here, it's live.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Jobs -->
  <section class="w-full lg:w-[80%] xl:w-[70%] 2xl:w-[60%] mx-auto px-6 pb-24">
    <div class="reveal flex items-center justify-between mb-6" data-delay="0">
      <h2 class="text-xl font-bold text-slate-900 dark:text-white">Latest jobs</h2>
      <a href="/jobs" class="text-sm font-medium text-brand-500 hover:text-brand-600 transition-colors">
        View all →
      </a>
    </div>
    <JobTable jobs={featuredJobs} maxDelay={200} />
    <div class="reveal text-center mt-10" data-delay="200">
      <a
        href="/jobs"
        class="inline-flex px-8 py-3.5 bg-brand-500 text-white font-semibold rounded-2xl hover:bg-brand-600 transition-colors text-sm shadow-soft-md hover:shadow-warm"
      >
        View all {jobs.length} jobs →
      </a>
    </div>
  </section>

  <!-- Newsletter -->
  <section class="w-full lg:w-[80%] xl:w-[70%] 2xl:w-[60%] mx-auto px-6 pb-12">
    <div class="reveal" data-delay="0">
      <Newsletter />
    </div>
  </section>

  </main>

  <Footer />
</Layout>
